<!DOCTYPE html>

<html lang="en-US">
    <!-- SWDV 640: User Interface Design -->
    <!-- Cart Page -->
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Concert Ticket Buyer</title>
        <link href="images/concert_ticket_logo.png" rel="icon">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">        
        <link href="css/main.css" rel="stylesheet">
        <script src="https://kit.fontawesome.com/4179169019.js" crossorigin="anonymous"></script>

        <script src="https://code.jquery.com/jquery-3.7.0.min.js" integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script>
        <script src="js/mustache.js"></script>

        <script src="js/changeTheme.js"></script>
        <script src="js/template.js"></script>
        <script src="js/cart.js"></script>
    </head>

    <body>
        <!-- Navbar -->
        <nav id="navBar">
            <div id="navLeft">
                <a href="index.html"><img src="images/concert_ticket_logo.png" id="siteLogo" alt="site logo" aria-label="logo"></a>
                
                <div id="searchContainer" role="search">
                    <i class="fa-solid fa-magnifying-glass"></i>
                    <input type="search" id="searchBar" placeholder="search for concerts, artists, and venues..." aria-label="search for concerts, artists, and venues...">
                </div>
            </div>

            <div id="navMiddle">
                <a href="concertList.html" id="browseLink">Browse Concerts</a>
                <a href="myTickets.html" id="ticketsLink">My Tickets</a>
            </div>

            <div id="navRight">
                <a href="#" id="cartLink" aria-label="my cart"><i class="fa-solid fa-cart-plus fa-lg"></i></a>
                <a href="login.html" id="logInLink">Log in / Sign up</a>

                <!-- Tablet and mobile hamburger menu -->
                <div class="dropdown hamburger btn-group">
                    <button class="btn btn-secondary" type="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false" aria-label="dropdown link and settings menu">
                        <i class="fa-solid fa-bars fa-xl"></i>
                    </button>
                    <ul class="dropdown-menu">
                        <li><h3 class="dropdown-header">Site Links</h3></li>
                        <li><a class="dropdown-item" href="concertList.html">Browse Concerts</a></li>
                        <li><a class="dropdown-item" href="myTickets.html">My Tickets</a></li>
                        <li><a class="dropdown-item" href="#">My Cart <i class="fa-solid fa-cart-plus"></i></a></li>
                        <li><a class="dropdown-item" href="login.html">Log in / Sign up</a></li>
                        
                        <li><h3 class="dropdown-header">Settings</h3></li>
                        <li><p class="dropdown-item" onclick="changeTheme();">Change Theme <i id="altThemeSwitcherIcon" class="fa-solid fa-sun"></i></p></li>
                    </ul>
                </div>
            </div>
        </nav>

        <main>
             <!-- Alternative search bar for mobile -->
             <div id="altSearch" role="search">
                <i class="fa-solid fa-magnifying-glass"></i>
                <input type="search" id="altSearchBar" placeholder="search for concerts..." aria-label="search for concerts, artists, and venues...">
            </div>

            <!-- Dark/light theme switcher -->
            <i id="themeSwitcher" class="fa-solid fa-sun fa-xl" onclick="changeTheme();"></i>
            
            <h1 id="cartHeader">My Cart</h1>

            <script id="concertTemplate" type="x-tmpl-mustache">
                {{ #concerts }}

                <div class="cartItem">
                    <a href="concertDetail.html" class="itemInfo">
                        <h2>
                            <span class="concertTitle">{{ title }}</span>
                            <span class="concertAt">@</span>
                            <span class="concertVenue">{{ venue }}</span>
                        </h2>
                        <p class="dateTime">{{ time }} {{ date }}</p>
                        <p>Back Rows <strong>$25.00</strong></p>
                    </a>

                    <div class="ticketSelector">
                        <input type="number" min="1" value="{{ tickets }}" class="numTickets" onchange="calcSubTotal();">
                        <label for="numTickets">Tickets</label>    
                        <i class="fa-solid fa-trash trash" aria-label="remove tickets from cart" onclick="deleteItem();"></i>
                    </div>
                </div>

                {{ /concerts }}
                
                <div class="cartBottom">
                    <button id="clearItems" onclick="clearItems();" aria-label="clear all items from cart">Clear Items</button>

                    <div class="subTotalContainer">
                        <p class="subTotal">Subtotal: <strong>$50.00</strong></p>
                        <a href="#"><button id="purchaseBtn" type="button">Proceed to Purchase</button></a>
                    </div>
                </div>
            </script>

            <div class="cartContainer" id="concertTarget">

            </div>

        </main>

         <!-- Footer -->
         <footer class="footerFixed">
            <p>Ben Wilkins</p>
            <p>SWDV 640</p>
        </footer>

        <script id="ticketPage"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
    </body>
</html>