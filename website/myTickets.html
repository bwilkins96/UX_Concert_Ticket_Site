<!DOCTYPE html>

<html lang="en-US">
    <!-- SWDV 640: User Interface Design -->
    <!-- My Tickets Page -->
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Browse Concerts</title>
        <link href="images/concert_ticket_logo.png" rel="icon">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">        
        <link href="css/main.css" rel="stylesheet">
        <script src="https://kit.fontawesome.com/4179169019.js" crossorigin="anonymous"></script>

        <script src="https://code.jquery.com/jquery-3.7.0.min.js" integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script>
        <script src="js/mustache.js"></script>

        <script src="js/changeTheme.js"></script>
        <script src="js/template.js"></script>
       </head>

    <body>
        <!-- Navbar -->
        <nav id="navBar">
            <div id="navLeft">
                <a href="index.html"><img src="images/concert_ticket_logo.png" id="siteLogo" alt="site logo" aria-label="logo"></a>
                
                <div id="searchContainer" role="search">
                    <i class="fa-solid fa-magnifying-glass"></i>
                    <input type="search" id="searchBar" placeholder="search for concerts, artists, and venues..." aria-label="search for concerts, artists, and venues...">
                </div>
            </div>

            <div id="navMiddle">
                <a href="concertList.html" id="browseLink">Browse Concerts</a>
                <a href="#" id="ticketsLink"><strong>My Tickets</strong></a>
            </div>

            <div id="navRight">
                <a href="#" id="cartLink" aria-label="my cart"><i class="fa-solid fa-cart-shopping fa-lg"></i></a>
                <a href="#" id="logInLink">Log in / Sign up</a>

                <!-- Tablet and mobile hamburger menu -->
                <div class="dropdown hamburger btn-group">
                    <button class="btn btn-secondary" type="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false" aria-label="dropdown link and settings menu">
                        <i class="fa-solid fa-bars fa-xl"></i>
                    </button>
                    <ul class="dropdown-menu">
                        <li><h3 class="dropdown-header">Site Links</h3></li>
                        <li><a class="dropdown-item" href="#">Browse Concerts</a></li>
                        <li><a class="dropdown-item" href="#">My Tickets</a></li>
                        <li><a class="dropdown-item" href="#">My Cart <i class="fa-solid fa-cart-shopping"></i></a></li>
                        <li><a class="dropdown-item" href="#">Log in / Sign up</a></li>
                        
                        <li><h3 class="dropdown-header">Settings</h3></li>
                        <li><p class="dropdown-item" onclick="changeTheme();">Change Theme <i id="altThemeSwitcherIcon" class="fa-solid fa-sun"></i></p></li>
                    </ul>
                </div>
            </div>
        </nav>

        <main>
             <!-- Alternative search bar for mobile -->
             <div id="altSearch" role="search">
                <i class="fa-solid fa-magnifying-glass"></i>
                <input type="search" id="altSearchBar" placeholder="search for concerts..." aria-label="search for concerts, artists, and venues...">
            </div>

            <!-- Dark/light theme switcher -->
            <i id="themeSwitcher" class="fa-solid fa-sun fa-xl" onclick="changeTheme();"></i>
            
            <!-- Concert list -->
            <div class="container concertList" role="region" aria-label="concert list" id="concertTarget" type="x-tmpl-mustache">

                <!-- Concert listing template -->
                <script id="concertTemplate" type="x-tmpl-mustache">
                    {{ #concerts }}
                    <div class="row concertRow">
                        <a href="#" class="col-sm-7 concertImgCol">
                            <img class="concertImg" src="{{ image }}" alt="concert image">
                        </a>
                        <div class="col-sm-5 concertInfoCol">
                            <div class="concertHeader">
                                <h2>
                                    <span class="concertTitle">{{ title }}</span>
                                </h2>
                                <h2>
                                    <span class="concertAt">@</span>
                                    <span class="concertVenue">{{ venue }}</span>
                                </h2>
                            </div>

                            <div class="concertQRContainer">
                                <img class="concertQR" src="{{ qrImage }}" alt="QR code">
                                
                                <div class="concertTicketInfo">
                                    <p>{{ time }} {{ date }}</p>
                                    <strong>{{ tickets }} Tickets</strong>
                                    <a href="#">Print Tickets</a>
                                </div>
                            </div>
                        </div>
                    </div>
                    {{ /concerts }}
                </script>

                <h1 id="concertLoading">Loading...</h1>
            </div>
        </main>

         <!-- Footer -->
         <footer class="footerFixed">
            <p>Ben Wilkins</p>
            <p>SWDV 640</p>
        </footer>

        <script id="ticketPage"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
    </body>
</html>